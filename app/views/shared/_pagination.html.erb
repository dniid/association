<!-- Add a helper method to append query parameters to the existing path -->
<!-- There might be a better way to do this -->
<% def append_query_param(url, param) %>
  <% uri = URI.parse(url) %>
  <% if uri.query.present? %>
    <% "#{url}&#{param}" %>
  <% else %>
    <% "#{url}?#{param}" %>
  <% end %>
<% end %>

<div class="d-flex justify-content-between align-items-center border border-top-0">
    <% if pagination.previous_page? %>
      <span class="px-2 py-1 border-end"><%= link_to 'First', append_query_param(path, "page=1") %></span>
      <span class="px-2 py-1 border-end"><%= link_to '< Previous', append_query_param(path, "page=#{pagination.previous_page}") %></span>
    <% else %>
      <span class="px-2 py-1 border-end">First</span>
      <span class="px-2 py-1 border-end">&#60; Previous</span>
    <% end %>
  <div class="flex-grow-1 px-2 py-1 d-flex justify-content-center">
    <span><%= "Page #{pagination.page} of #{pagination.total_pages}" %></span>
  </div>
    <% if pagination.next_page? %>
      <span class="px-2 py-1 border-start"><%= link_to 'Next >', append_query_param(path, "page=#{pagination.next_page}") %></span>
      <span class="px-2 py-1 border-start"><%= link_to 'Last', append_query_param(path, "page=#{pagination.total_pages}") %></span>
    <% else %>
      <span class="px-2 py-1 border-start">Next &#62;</span>
      <span class="px-2 py-1 border-start">Last </span>
    <% end %>
</div>
